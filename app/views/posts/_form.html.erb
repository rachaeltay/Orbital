<head>
  <title> Create Post</title>
</head>

<body>

<%= semantic_form_for @post do |f| %>
  <% if @post.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@post.errors.count, "error") %> prohibited this post from being saved:</h2>

      <ul>
      <% @post.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <div class="field" style="padding-bottom:10px;">
    <%= f.label :title %><br>
    <%= f.text_field :title, class: "form-control" %>

  </div>
  
  <div class="field" style="padding-bottom:10px;">
    <%= f.label :host %><br>
    <%= f.text_area :host, class: "form-control" %>
  </div>
  
  <div class="field" style="padding-bottom:10px;">
    <%= f.label :description %><br>
    <%= f.text_area :description, class: "form-control" %>
  </div>
  
  <div class="field" style="padding-bottom:10px;">
    <%= f.label :signup_link %><br>
    <%= f.text_area :signup_link, class: "form-control" %>
  </div>
  
  <div class="field" style="padding-bottom:10px;">
    <%= f.label :contact_number %><br>
    <%= f.text_area :contact_number, class: "form-control" %>
  </div>
  
  <div class="field" style="padding-bottom:10px;">
    
    <%= f.label :"Start Date" %><br>
    <%= f.input :start_time, input_html: { class: "daterange" }, as: :string, class:"starttimetable" %>
    <script type="text/javascript">
    $(document).ready(function() {
      $('input[class="daterange"]').daterangepicker({
        locale: {
          format: 'YYYY-MM-DD'
        },
        "singleDatePicker": true,
        "showDropdowns": true
        }, 
        
        function(start, end, label) {
          console.log("New date range selected: ' + start.format('YYYY/MM/DD h:mm A') + ' to ' + end.format('YYYY/MM/DD h:mm A') + ' (predefined range: ' + label + ')");
        });
    });
    </script>
    
  </div>
  
  <div class="field" style="padding-bottom:10px;">
    
    <%= f.label :"End Date" %><br>
    <%= f.input :end_time, input_html: { class: "daterange" }, as: :string %>
    <script type="text/javascript">
    $(document).ready(function() {
      $('input[class="daterange"]').daterangepicker({
        locale: {
          format: 'YYYY-MM-DD'
        },
        "singleDatePicker": true,
        "showDropdowns": true
        }, 
        
        function(start, end, label) {
          console.log("New date range selected: ' + start.format('YYYY/MM/DD') + ' to ' + end.format('YYYY/MM/DD') + ' (predefined range: ' + label + ')");
        });
    });
    </script>
    
  </div>
  
  <div class="field" style="padding-bottom:10px;">
    <%= f.label :tag %><br>
    <%= f.select :tag, options_for_select(["Sports", "Arts", "Community", "Education", "Tech"]), { class: "select", :id => "soflow" } %>
  </div>
  
  <div class="field" style="padding-bottom:10px;">
    <%= f.label :picture %><br>
    <%= f.file_field :picture, id: :post_picture, class: "form-control" %>
  </div>
  
  <div class="field">
    <%= f.hidden_field :user_id, :value => current_user.id %>
  </div>
  
  <br>
  
  <div class="actions">
    <%= f.submit class:"btn btn-info"%>
  </div>
  
<% end %>
</body>